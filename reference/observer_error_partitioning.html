<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Partition intra- and inter-observer uncertainty (replicate-based) — observer_error_partitioning • QuAnTeTrack</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Partition intra- and inter-observer uncertainty (replicate-based) — observer_error_partitioning"><meta name="description" content="observer_error_partitioning() quantifies how much variance in trackway parameters
is due to observer and replicate effects (inter-/intra-observer) versus genuine
between-track (biological) differences, using replicated digitizations and mixed-effects models
(no anatomical simulation)."><meta property="og:description" content="observer_error_partitioning() quantifies how much variance in trackway parameters
is due to observer and replicate effects (inter-/intra-observer) versus genuine
between-track (biological) differences, using replicated digitizations and mixed-effects models
(no anatomical simulation)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">QuAnTeTrack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/QuAnTeTrack.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MacroFunUV/QuAnTeTrack/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Partition intra- and inter-observer uncertainty (replicate-based)</h1>
      <small class="dont-index">Source: <a href="https://github.com/MacroFunUV/QuAnTeTrack/blob/master/R/observer_error_partitioning.R" class="external-link"><code>R/observer_error_partitioning.R</code></a></small>
      <div class="d-none name"><code>observer_error_partitioning.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>observer_error_partitioning()</code> quantifies how much variance in trackway parameters
is due to observer and replicate effects (inter-/intra-observer) versus genuine
between-track (biological) differences, using replicated digitizations and mixed-effects models
(no anatomical simulation).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">observer_error_partitioning</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">metadata</span>,</span>
<span>  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TurnAng"</span>, <span class="st">"sdTurnAng"</span>, <span class="st">"Distance"</span>, <span class="st">"Length"</span>, <span class="st">"StLength"</span>, <span class="st">"sdStLength"</span>,</span>
<span>    <span class="st">"Sinuosity"</span>, <span class="st">"Straightness"</span>, <span class="st">"TrackWidth"</span>, <span class="st">"PaceAng"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A <code>track</code> R object, which is a list consisting of two elements:</p><ul><li><p><strong><code>Trajectories</code></strong>: A list of interpolated trajectories, where each trajectory is a series of midpoints between consecutive footprints.</p></li>
<li><p><strong><code>Footprints</code></strong>: A list of data frames containing footprint coordinates, metadata (e.g., image reference, ID), and a marker indicating whether the footprint is actual or inferred.</p></li>
</ul></dd>


<dt id="arg-metadata">metadata<a class="anchor" aria-label="anchor" href="#arg-metadata"></a></dt>
<dd><p>A data frame with one row per track (same order as
<code>track_param(data)</code>). Required columns:</p><ul><li><p><code>replica</code> — replicate index within (<code>track</code>, <code>observer</code>).</p></li>
<li><p><code>track</code> — biological track ID.</p></li>
<li><p><code>observer</code> — observer ID.</p></li>
</ul></dd>


<dt id="arg-variables">variables<a class="anchor" aria-label="anchor" href="#arg-variables"></a></dt>
<dd><p>A character vector of parameters to analyze. Default is
<code>c("TurnAng","sdTurnAng","Distance","Length","StLength","sdStLength",
          "Sinuosity","Straightness","TrackWidth","PaceAng")</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>"error_partitioning"</code> R object consisting of a list
containing the following elements:</p>
<dl><dt>summary</dt>
<dd><p>Data frame of variance components per variable.
Columns: <code>variable</code>, <code>component</code>, <code>variance</code>,
<code>percent</code>, and \(R^2_c\). Components reflect what was
estimable (e.g., <code>track</code>, <code>observer</code>,
<code>observer:track</code>, <code>Residual</code>).</p></dd>


<dt>snr</dt>
<dd><p>Data frame with the signal-to-noise ratio per variable.
Columns: <code>variable</code>, <code>bio_component</code> (always <code>"track"</code>),
<code>bio_var</code>, <code>error_var</code>, and <code>SNR</code>.
The SNR is
$$SNR = Var(track) / [Var(observer) + Var(observer:track) + Var(Residual)].$$</p></dd>


<dt>qc</dt>
<dd><p>Compact quality-control table per variable with <code>SNR</code>,
a qualitative <code>SNR_rating</code> (<code>"weak"</code>, <code>"moderate"</code>,
<code>"strong"</code>), the <code>top_component</code> by percent, its
<code>top_percent</code>, \(R^2_c\), and whether the observer term was
estimable (<code>observer_estimable</code>).</p></dd>


<dt>analysis_table</dt>
<dd><p>Data frame used in the analysis: selected
variables joined with <code>metadata</code> (columns typically include
<code>replica</code>, <code>track</code>, and <code>observer</code>).</p></dd>


<dt>models</dt>
<dd><p>Fitted mixed-effects models used to extract variance
components. For linear variables, each entry stores the <code>lmer</code>
fit and its variance components. For angular variables, each entry is
a list with separate <code>sin</code> and <code>cos</code> fits.</p></dd>


<dt>formulae</dt>
<dd><p>Model formula(e) per variable. For angular variables,
a list containing the <code>sin</code> and <code>cos</code> formulas.</p></dd>


<dt>track_names</dt>
<dd><p>Character vector of internal track labels used in
the analysis.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function partitions the variability of each selected metric into
components attributable to <strong>biology</strong> (consistent differences among
tracks) and to the <strong>human sampling process</strong>: differences between
observers (<strong>inter-observer sampling error</strong>) and differences between
repeated digitizations by the same observer (<strong>intra-observer sampling error</strong>).
Use it to audit reproducibility across people and sessions, identify metrics
that remain stable despite who digitizes them, and prioritize where protocol
changes (clearer landmark definitions, training, calibration) will most reduce
measurement noise. Metrics whose variability is dominated by biological signal
are more interpretable downstream (testing, clustering, classification),
whereas those dominated by observer/replica effects warrant caution or
methodological refinement.</p>
<p>For each metric the model fits random intercepts for
<code>track</code>, <code>observer</code>, and their <code>observer:track</code> interaction.
Replicate-to-replicate scatter within the same (<code>observer</code>, <code>track</code>)
cell contributes to the residual (this is the intra-observer sampling error).
Random terms that appear with a single level are dropped automatically.</p>
<p>$$y \sim 1 + (1|track) + (1|observer) + (1|observer:track).$$</p>
<p>Angular variables (<code>TurnAng</code>, <code>PaceAng</code>) are handled in sine–cosine
space to respect circularity and avoid 0°/360° discontinuities: the same
random-effects structure is fit separately to \(\sin(\theta)\) and \(\cos(\theta)\),
and the two variance decompositions are averaged (Fisher, 1995).</p>
<p>Robustness is summarized by the signal-to-noise ratio
$$SNR = \frac{Var(track)}{Var(observer) + Var(observer:track) + Var(Residual)}.$$
As a rule of thumb:</p><ul><li><p><strong>SNR &lt; 1</strong> — observer/replicate error exceeds biology; the metric is <em>weak</em>;</p></li>
<li><p><strong>SNR ~ 1–2</strong> — biology and error are comparable; <em>moderate</em> robustness;</p></li>
<li><p><strong>SNR &gt; 2</strong> — biology dominates; <em>strongly robust</em>.</p></li>
</ul><p>A compact QC table reports SNR, the qualitative rating, the top variance
component by percent, and the conditional \(R^2_c\); it also flags whether
the inter-observer term was estimable (&gt;1 level).</p>
<p>Practical designs:</p><ul><li><p><em>Full inter + intra</em>: provide multiple observers <em>and</em> multiple
replicates per observer. Both <code>observer</code> and <code>observer:track</code> are estimable; replicate scatter is residual.</p></li>
<li><p><em>Intra-only</em>: set <code>metadata$observer</code> to the same value for all rows
and provide <code>replica</code> with &gt;1 levels. Only <code>track</code> remains; replicate scatter is residual.</p></li>
<li><p><em>Inter-only</em>: set <code>metadata$replica</code> to a single level and supply multiple observers.
<code>observer</code> is estimable; the residual still represents replicate-level noise (if present).</p></li>
</ul><p>Note that estimates can be sensitive when designs are highly
unbalanced or sample sizes are small; singular fits (random variances at/near
zero) may occur (REML) and should be interpreted cautiously.
This function does not simulate anatomical landmark jitter; to quantify
sensitivity to landmark placement itself (e.g., preservation, landmark
ambiguity), use <code><a href="anatomical_error_partitioning.html">anatomical_error_partitioning()</a></code>.</p>
<p>All <strong>replicated digitizations</strong> (across observers and/or replicate
attempts) must be bundled together in this single <code>data</code>
object (i.e., in the same file), with each replicate represented
as its own track entry. Do not split replicates across multiple
files/objects, as <code>track_param(data)</code> and <code>metadata</code>
must align one row per replicate in the same order.</p>
    </div>
    <div class="section level2">
    <h2 id="logo">Logo<a class="anchor" aria-label="anchor" href="#logo"></a></h2>


<p><img src="figures/Logo.png" width="120"></p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fisher, N. I. (1995). Statistical Analysis of Circular Data. Cambridge University Press</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="tps_to_track.html">tps_to_track</a></code>, <code><a href="track_param.html">track_param</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Humberto G. Ferrón</p>
<p>humberto.ferron@uv.es</p>
<p>Macroevolution and Functional Morphology Research Group (www.macrofun.es)</p>
<p>Cavanilles Institute of Biodiversity and Evolutionary Biology</p>
<p>Calle Catedrático José Beltrán Martínez, nº 2</p>
<p>46980 Paterna - Valencia - Spain</p>
<p>Phone: +34 (9635) 44477</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example 1: Full partition (inter + intra via residual)</span></span></span>
<span class="r-in"><span><span class="co"># Model: (1|track) + (1|observer) + (1|observer:track).</span></span></span>
<span class="r-in"><span><span class="co"># Var(track)=biology; Var(observer)=inter-observer;</span></span></span>
<span class="r-in"><span><span class="co"># Var(observer:track)=observer×track; Residual=intra-observer.</span></span></span>
<span class="r-in"><span><span class="va">tps</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"PaluxyRiverObsRep.tps"</span>,</span></span>
<span class="r-in"><span>                   package <span class="op">=</span> <span class="st">"QuAnTeTrack"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">RL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R"</span>,<span class="st">"L"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">34</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">trks</span> <span class="op">&lt;-</span> <span class="fu"><a href="tps_to_track.html">tps_to_track</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">tps</span>, scale <span class="op">=</span> <span class="fl">0.004341493</span>,</span></span>
<span class="r-in"><span>                     R.L.side <span class="op">=</span> <span class="va">RL</span>, missing <span class="op">=</span> <span class="cn">FALSE</span>, NAs <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">n</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">trks</span><span class="op">$</span><span class="va">Trajectories</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">md</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  track    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"T01"</span>,<span class="st">"T02"</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">n</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  observer <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>, <span class="st">"obs1"</span>, <span class="st">"obs2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">md</span><span class="op">$</span><span class="va">replica</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ave.html" class="external-link">ave</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  <span class="fu"><a href="https://rdrr.io/r/base/interaction.html" class="external-link">interaction</a></span><span class="op">(</span><span class="va">md</span><span class="op">$</span><span class="va">observer</span>, <span class="va">md</span><span class="op">$</span><span class="va">track</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  FUN <span class="op">=</span> <span class="va">seq_along</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">md</span> <span class="op">&lt;-</span> <span class="va">md</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"replica"</span>,<span class="st">"track"</span>,<span class="st">"observer"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Distance"</span>,<span class="st">"Straightness"</span>,<span class="st">"TurnAng"</span>,<span class="st">"PaceAng"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_full</span> <span class="op">&lt;-</span> <span class="fu">observer_error_partitioning</span><span class="op">(</span>data <span class="op">=</span> <span class="va">trks</span>,</span></span>
<span class="r-in"><span>                                        metadata <span class="op">=</span> <span class="va">md</span>,</span></span>
<span class="r-in"><span>                                        variables <span class="op">=</span> <span class="va">vars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_full</span><span class="op">$</span><span class="va">qc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       variable        SNR SNR_rating top_component top_percent      R2_c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     Distance 14362.3060     strong         track    99.99304 0.9999304</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Straightness   158.6878     strong         track    99.37378 0.9937378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      TurnAng  3642.6814     strong         track    99.97256 0.9997673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      PaceAng   314.5134     strong         track    99.68306 0.9990678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   observer_estimable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                yes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Intra-only, single observer; residual = intra-observer</span></span></span>
<span class="r-in"><span><span class="va">md_intra</span> <span class="op">&lt;-</span> <span class="va">md</span></span></span>
<span class="r-in"><span><span class="va">md_intra</span><span class="op">$</span><span class="va">observer</span> <span class="op">&lt;-</span> <span class="st">"obs1"</span></span></span>
<span class="r-in"><span><span class="va">res_intra</span> <span class="op">&lt;-</span> <span class="fu">observer_error_partitioning</span><span class="op">(</span>data <span class="op">=</span> <span class="va">trks</span>,</span></span>
<span class="r-in"><span>                                         metadata <span class="op">=</span> <span class="va">md_intra</span>,</span></span>
<span class="r-in"><span>                                         variables <span class="op">=</span> <span class="va">vars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_intra</span><span class="op">$</span><span class="va">qc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       variable        SNR SNR_rating top_component top_percent      R2_c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     Distance 14362.5544     strong         track    99.99304 0.9999304</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Straightness   158.6867     strong         track    99.37377 0.9937377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      TurnAng  3643.9188     strong         track    99.97256 0.9997582</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      PaceAng   314.5132     strong         track    99.68306 0.9990678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   observer_estimable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       no (1 level)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       no (1 level)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       no (1 level)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       no (1 level)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 3: Inter-only, single replicate; estimates inter-observer</span></span></span>
<span class="r-in"><span><span class="va">md_inter</span> <span class="op">&lt;-</span> <span class="va">md</span></span></span>
<span class="r-in"><span><span class="va">md_inter</span><span class="op">$</span><span class="va">replica</span> <span class="op">&lt;-</span> <span class="fl">1L</span></span></span>
<span class="r-in"><span><span class="va">res_inter</span> <span class="op">&lt;-</span> <span class="fu">observer_error_partitioning</span><span class="op">(</span>data <span class="op">=</span> <span class="va">trks</span>,</span></span>
<span class="r-in"><span>                                         metadata <span class="op">=</span> <span class="va">md_inter</span>,</span></span>
<span class="r-in"><span>                                         variables <span class="op">=</span> <span class="va">vars</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_inter</span><span class="op">$</span><span class="va">qc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       variable        SNR SNR_rating top_component top_percent      R2_c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     Distance 14362.3060     strong         track    99.99304 0.9999304</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 Straightness   158.6878     strong         track    99.37378 0.9937378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3      TurnAng  3642.6814     strong         track    99.97256 0.9997673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      PaceAng   314.5134     strong         track    99.68306 0.9990678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   observer_estimable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                yes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                yes</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 4: Circular metrics only (angles via sine–cosine embedding)</span></span></span>
<span class="r-in"><span><span class="va">res_ang</span> <span class="op">&lt;-</span> <span class="fu">observer_error_partitioning</span><span class="op">(</span>data <span class="op">=</span> <span class="va">trks</span>,</span></span>
<span class="r-in"><span>                                       metadata <span class="op">=</span> <span class="va">md</span>,</span></span>
<span class="r-in"><span>                                       variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TurnAng"</span>,<span class="st">"PaceAng"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">res_ang</span><span class="op">$</span><span class="va">summary</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           variable      component     variance      percent      R2_c</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TurnAng.1  TurnAng observer:track 9.047652e-11 1.974434e-05 0.9997673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TurnAng.2  TurnAng       observer 0.000000e+00 0.000000e+00 0.9997673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TurnAng.3  TurnAng          track 4.581145e-04 9.997256e+01 0.9997673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> TurnAng.4  TurnAng       Residual 1.256725e-07 2.742503e-02 0.9997673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PaceAng.1  PaceAng observer:track 2.082826e-50 1.531558e-47 0.9990678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PaceAng.2  PaceAng       observer 1.524969e-17 1.121350e-14 0.9990678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PaceAng.3  PaceAng          track 1.355629e-01 9.968306e+01 0.9990678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> PaceAng.4  PaceAng       Residual 4.310243e-04 3.169437e-01 0.9990678</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Humberto G Ferrón.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

